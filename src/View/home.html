<!doctype html>
    <html>
    <head>
        <meta charset="UTF-8" />
        <title>ETL Tools</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
        <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    </head>
    <body class="bg-zinc-900 text-white" style="background-image: url(./assets/bg.jpg); background-size: cover;">

        <div id="app" class="text-white bg-black/15 backdrop-blur-lg h-full min-h-screen">

            <aside id="cta-button-sidebar" class="fixed top-0 left-0 z-40 w-64 h-screen transition-transform -translate-x-full sm:translate-x-0" aria-label="Sidebar">
                <div class="h-full px-3 py-4 overflow-y-auto bg-black/10">
                    <ul class="space-y-2 font-medium">
                        <li>
                            <button class="p-2 text-sm text-left text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group w-full">
                                <span class="flex-1 text-lg">ETL TOOLS</span><br><span class="text-xs">PostgreSQL Mission</span>
                            </button>
                        </li>
                        <li>
                            <button @click="openTab('searchcolumns')" class="flex align-center p-2 text-sm text-left text-white rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 w-full">
                                <svg class="w-[15px] h-[15px] fill-[#ffffff]" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M160 32c0-17.7 14.3-32 32-32h32c17.7 0 32 14.3 32 32c17.7 0 32 14.3 32 32V288c0 17.7-14.3 32-32 32c0 17.7-14.3 32-32 32H192c-17.7 0-32-14.3-32-32c-17.7 0-32-14.3-32-32V64c0-17.7 14.3-32 32-32zM32 448H320c70.7 0 128-57.3 128-128s-57.3-128-128-128V128c106 0 192 86 192 192c0 49.2-18.5 94-48.9 128H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H320 32c-17.7 0-32-14.3-32-32s14.3-32 32-32zm80-64H304c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z"></path>
                                </svg>
                                <span class="flex-1 ms-3">Advanced Search</span>
                            </button>
                        </li>
                        <li>
                            <button class="flex align-center p-2 text-sm text-left text-white rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group w-full">
                                <svg class="w-[15px] h-[15px] fill-[#ffffff]" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M0 64C0 28.7 28.7 0 64 0H224V128c0 17.7 14.3 32 32 32H384V304H176c-35.3 0-64 28.7-64 64V512H64c-35.3 0-64-28.7-64-64V64zm384 64H256V0L384 128zM200 352h16c22.1 0 40 17.9 40 40v8c0 8.8-7.2 16-16 16s-16-7.2-16-16v-8c0-4.4-3.6-8-8-8H200c-4.4 0-8 3.6-8 8v80c0 4.4 3.6 8 8 8h16c4.4 0 8-3.6 8-8v-8c0-8.8 7.2-16 16-16s16 7.2 16 16v8c0 22.1-17.9 40-40 40H200c-22.1 0-40-17.9-40-40V392c0-22.1 17.9-40 40-40zm133.1 0H368c8.8 0 16 7.2 16 16s-7.2 16-16 16H333.1c-7.2 0-13.1 5.9-13.1 13.1c0 5.2 3 9.9 7.8 12l37.4 16.6c16.3 7.2 26.8 23.4 26.8 41.2c0 24.9-20.2 45.1-45.1 45.1H304c-8.8 0-16-7.2-16-16s7.2-16 16-16h42.9c7.2 0 13.1-5.9 13.1-13.1c0-5.2-3-9.9-7.8-12l-37.4-16.6c-16.3-7.2-26.8-23.4-26.8-41.2c0-24.9 20.2-45.1 45.1-45.1zm98.9 0c8.8 0 16 7.2 16 16v31.6c0 23 5.5 45.6 16 66c10.5-20.3 16-42.9 16-66V368c0-8.8 7.2-16 16-16s16 7.2 16 16v31.6c0 34.7-10.3 68.7-29.6 97.6l-5.1 7.7c-3 4.5-8 7.1-13.3 7.1s-10.3-2.7-13.3-7.1l-5.1-7.7c-19.3-28.9-29.6-62.9-29.6-97.6V368c0-8.8 7.2-16 16-16z"></path>
                                </svg>
                                <span class="flex-1 ms-3">CSV to PostgreSQL</span>
                            </button>
                        </li>
                        <li>
                            <button class="flex align-center p-2 text-sm text-left text-white rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 w-full">
                                <svg class="w-[15px] h-[15px] fill-[#ffffff]" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M64 32C28.7 32 0 60.7 0 96v64c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zm280 72a24 24 0 1 1 0 48 24 24 0 1 1 0-48zm48 24a24 24 0 1 1 48 0 24 24 0 1 1 -48 0zM64 288c-35.3 0-64 28.7-64 64v64c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V352c0-35.3-28.7-64-64-64H64zm280 72a24 24 0 1 1 0 48 24 24 0 1 1 0-48zm56 24a24 24 0 1 1 48 0 24 24 0 1 1 -48 0z"></path>
                                </svg>
                                <span class="flex-1 ms-3">New connection</span>
                            </button>
                        </li>
                        <li>
                            <button @click="openTab('sql')" class="flex align-center p-2 text-sm text-left text-white rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group w-full">
                                <svg class="w-[15px] h-[15px] fill-[#ffffff]" viewBox="0 0 640 512" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3L562.7 256l-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"></path>
                                </svg>
                                <span class="flex-1 ms-3">New SQL</span>
                            </button>
                        </li>
                        <li>
                            <button @click="openTab('relationshipanalyser')" class="flex align-center p-2 text-sm text-left text-white rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group w-full">
                                <svg class="w-[15px] h-[15px] fill-[#ffffff]" viewBox="0 0 640 512" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M256 64H384v64H256V64zM240 0c-26.5 0-48 21.5-48 48v96c0 26.5 21.5 48 48 48h48v32H32c-17.7 0-32 14.3-32 32s14.3 32 32 32h96v32H80c-26.5 0-48 21.5-48 48v96c0 26.5 21.5 48 48 48H240c26.5 0 48-21.5 48-48V368c0-26.5-21.5-48-48-48H192V288H448v32H400c-26.5 0-48 21.5-48 48v96c0 26.5 21.5 48 48 48H560c26.5 0 48-21.5 48-48V368c0-26.5-21.5-48-48-48H512V288h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H352V192h48c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48H240zM96 448V384H224v64H96zm320-64H544v64H416V384z"></path>
                                </svg>
                                <span class="flex-1 ms-3">Relationship Finder</span>
                            </button>
                        </li>
                        <li>
                            <button @click="openTab('searchcolumns')" class="flex align-center p-2 text-sm text-left text-white rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 w-full">
                                <svg class="w-[15px] h-[15px] fill-[#ffffff]" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M512 416l0-64c0-35.3-28.7-64-64-64L64 288c-35.3 0-64 28.7-64 64l0 64c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64zM64 160l0-64 144 0 16 0 0 64L64 160zm224 0l0-64 80 0c8.8 0 16 7.2 16 16l0 16-38.1 0c-21.4 0-32.1 25.9-17 41L399 239c9.4 9.4 24.6 9.4 33.9 0L503 169c15.1-15.1 4.4-41-17-41L448 128l0-16c0-44.2-35.8-80-80-80L224 32l-16 0L64 32C28.7 32 0 60.7 0 96l0 64c0 35.3 28.7 64 64 64l160 0c35.3 0 64-28.7 64-64z"></path>
                                </svg>
                                <span class="flex-1 ms-3">Search Columns</span>
                            </button>
                        </li>
                        <li>
                            <button @click="openTab('uploadzip')" class="flex align-center p-2 text-sm text-left text-white rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group w-full">
                                <svg class="w-[15px] h-[15px] fill-[#ffffff]" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M288 109.3V352c0 17.7-14.3 32-32 32s-32-14.3-32-32V109.3l-73.4 73.4c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l128-128c12.5-12.5 32.8-12.5 45.3 0l128 128c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L288 109.3zM64 352H192c0 35.3 28.7 64 64 64s64-28.7 64-64H448c35.3 0 64 28.7 64 64v32c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V416c0-35.3 28.7-64 64-64zM432 456a24 24 0 1 0 0-48 24 24 0 1 0 0 48z"></path>
                                </svg>
                                <span class="flex-1 ms-3">Upload to PostgreSQL</span>
                            </button>
                        </li>
                        <li>
                            <button @click="openTab('viewbytea')" class="flex align-center p-2 text-sm text-left text-white rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group w-full">
                                <svg class="w-[15px] h-[15px] fill-[#ffffff]" viewBox="0 0 576 512" xmlns="http://www.w3.org/2000/svg">
                                <path d="M288 80c-65.2 0-118.8 29.6-159.9 67.7C89.6 183.5 63 226 49.4 256c13.6 30 40.2 72.5 78.6 108.3C169.2 402.4 222.8 432 288 432s118.8-29.6 159.9-67.7C486.4 328.5 513 286 526.6 256c-13.6-30-40.2-72.5-78.6-108.3C406.8 109.6 353.2 80 288 80zM95.4 112.6C142.5 68.8 207.2 32 288 32s145.5 36.8 192.6 80.6c46.8 43.5 78.1 95.4 93 131.1c3.3 7.9 3.3 16.7 0 24.6c-14.9 35.7-46.2 87.7-93 131.1C433.5 443.2 368.8 480 288 480s-145.5-36.8-192.6-80.6C48.6 356 17.3 304 2.5 268.3c-3.3-7.9-3.3-16.7 0-24.6C17.3 208 48.6 156 95.4 112.6zM288 336c44.2 0 80-35.8 80-80s-35.8-80-80-80c-.7 0-1.3 0-2 0c1.3 5.1 2 10.5 2 16c0 35.3-28.7 64-64 64c-5.5 0-10.9-.7-16-2c0 .7 0 1.3 0 2c0 44.2 35.8 80 80 80zm0-208a128 128 0 1 1 0 256 128 128 0 1 1 0-256z"></path>
                                </svg>
                                <span class="flex-1 ms-3">View Bytea</span>
                            </button>
                        </li>
                        <li>
                            <hr class="border-zinc-900" />
                        </li>
                    </ul>
                </div>
            </aside>

            <div class="sm:ml-64">
                <div class="h-full flex flex-col">
                    <div class="flex bg-zinc-800 overflow-x-hidden select-none pl-4">
                        <div
                            v-for="(tab, index) in tabs"
                            :key="tab.id"
                            class="p-2 cursor-pointer flex items-center text-xs mt-2 rounded-t-sm"
                            :class="{'bg-zinc-900': activeTab === tab.id}"
                            @click="activeTab = tab.id"
                        >
                            {{ tab.title }}
                            <button class="ml-2 text-white" @click="askCloseTab(tab.id)">✕</button>

                            <!-- Componente de Dialog -->
                            <confirmdialog
                                :visible="showDialog"
                                :tab-id="selectedTabId"
                                title="Fechar aba"
                                message="Deseja realmente fechar esta aba?"
                                @confirm="closeTab"
                                @cancel="showDialog = false"
                            ></confirmdialog>
                        </div>
                    </div>

                    <div class="flex-1">
                        <component
                            :is="tab.component"
                            v-for="tab in tabs"
                            v-show="tab.id === activeTab"
                            :key="tab.id"
                            v-bind="tab.props"
                        />
                    </div>
                    <div class="flex-1 p-4"  v-show="tabs.length == 0">
                        <div class="text-[80px] text-zinc-200 text-center select-none font-mono">ETL TOOLS</div>
                        <div class="text-[20px] text-zinc-200 text-center select-none font-mono">PostgreSQL Mission</div>
                    </div>
                </div>
            </div>
        </div>
        <script type="module" src="/assets/app.js"></script>
    </body>
</html>